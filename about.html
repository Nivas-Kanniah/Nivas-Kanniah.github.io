<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nivas Kanniah — About</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#071028;
    --panel:#071a2a;
    --card:#0f2640;
    --muted:#9fb0d5;
    --accent:#64ffda;
    --accent-2:#89c2ff;
    --pill-bg:#0b3350;
    --glass: rgba(255,255,255,0.03);
    font-family: 'Poppins', sans-serif;
  }
  [data-theme="light"]{
    --bg:#f5f5f5;
    --panel:#e0e7ff;
    --card:#ffffff;
    --muted:#444;
    --accent:#0077ff;
    --accent-2:#0055cc;
    --pill-bg:#d0e0ff;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    background:linear-gradient(180deg,var(--bg), #021027 120%);
    color:var(--muted);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    transition: all 0.3s ease;
  }

  /* Header/Menu */
  header{
    display:flex;
    justify-content: space-between;
    align-items:center;
    padding:16px 24px;
    background:linear-gradient(180deg, rgba(5,18,31,0.6), rgba(2,8,17,0.6));
    border-bottom:1px solid rgba(255,255,255,0.05);
    flex-wrap: wrap;
  }
  .logo{color:var(--accent); font-weight:700; font-size:20px; text-decoration:none;}
  nav{display:flex; gap:16px; flex-wrap:wrap; align-items:center;}
  nav a{color:var(--muted); text-decoration:none; font-weight:600;}
  nav a:hover{color:var(--accent);}
  .theme-toggle{
    cursor:pointer;
    background:var(--card);
    border:none;
    padding:6px 12px;
    border-radius:6px;
    color:var(--accent);
    font-weight:600;
  }

  /* Timeline CSS */
  header.timeline-header{
    padding:28px 20px;
    text-align:center;
    border-bottom:1px solid rgba(255,255,255,0.02);
    background:linear-gradient(180deg, rgba(5,18,31,0.6), rgba(2,8,17,0.6));
  }
  header.timeline-header h1{margin:0;color:var(--accent);font-weight:700}
  main{max-width:1200px;margin:28px auto;padding:0 18px;display:grid;grid-template-columns:320px 1fr;gap:24px;align-items:start}

  /* Tabs */
  .tabs{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
  .tab-btn{background:var(--card);border-radius:8px;padding:8px 12px;color:var(--muted);cursor:pointer;border:1px solid rgba(255,255,255,0.03);font-weight:600}
  .tab-btn.active{background:linear-gradient(90deg,var(--panel), #0a314f);color:#eafff5;box-shadow:0 6px 18px rgba(0,0,0,0.6), inset 0 -1px 0 rgba(255,255,255,0.02)}

  /* Timeline column */
  .timeline-wrap{background:var(--panel);padding:18px;border-radius:12px;min-height:420px;border:1px solid rgba(255,255,255,0.03)}
  .timeline{position:relative;padding-left:36px;margin:8px 0}
  .timeline::before{
    content:"";
    position:absolute;
    left:20px;
    top:8px;
    bottom:8px;
    width:4px;
    background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(100,255,218,0.08));
    border-radius:4px;
  }
  .timeline-item{
    position:relative;
    margin:8px 0 22px 0;
    padding:6px 8px;
    cursor:pointer;
    display:flex;
    gap:10px;
    align-items:flex-start;
    border-radius:8px;
    transition:background .18s, transform .12s;
  }
  .timeline-item:hover{transform:translateX(4px)}
  .timeline-marker{
    position:absolute;
    left:6px;
    width:28px;height:28px;border-radius:50%;
    background:var(--card);border:3px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;color:var(--accent);
    box-shadow:0 6px 18px rgba(2,6,10,0.6);
  }
  .timeline-item .meta{font-size:13px;color:var(--muted)}
  .timeline-item .title{font-weight:600;color:#eafff5}
  .timeline-item .period{font-size:12px;color:#9fb0d5}
  .timeline-item.active{
    background:linear-gradient(90deg, rgba(10,40,60,0.6), rgba(8,30,50,0.6));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
  }
  .timeline-item.active .timeline-marker{
    background:linear-gradient(180deg,var(--accent), #49e9c8);
    color:#062226;border:none;
  }

  /* Details panel */
  .details-panel{
    background:linear-gradient(180deg,var(--card), rgba(12,30,50,0.9));
    padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
    min-height:420px;display:flex;flex-direction:column;gap:12px;
  }
  .role-head{display:flex;justify-content:space-between;gap:12px;align-items:flex-start;flex-wrap:wrap}
  .role-head .left{min-width:0}
  .role-head h2{margin:0;color:var(--accent);font-size:20px}
  .role-head p{margin:6px 0 0 0;color:var(--muted);font-weight:600}
  .role-meta{font-size:13px;color:var(--muted)}
  .pill-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
  .pill{background:var(--pill-bg);padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px;color:#dffbf0;border:1px solid rgba(255,255,255,0.03)}
  .section-title{color:var(--accent-2);font-weight:700;margin-top:12px}
  .bullets{margin:8px 0 0 0;padding-left:18px}
  .bullets li{margin:8px 0;color:var(--muted);line-height:1.4}
  .highlight{margin-top:12px;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(100,255,218,0.03), rgba(100,255,218,0.01));border-left:4px solid rgba(100,255,218,0.12);color:#eafff5}
  .location{font-size:13px;color:#9fb0d5;margin-top:6px}

  /* smaller screens */
  @media (max-width:880px){
    main{grid-template-columns:1fr; padding:18px}
    .timeline-wrap{order:2}
    .details-panel{order:1}
    .timeline{padding-left:20px}
    .timeline::before{left:8px}
    .timeline-marker{left:-4px}
  }
</style>
</head>
<body>

<header>
  <a href="index.html" class="logo">Nivas Kanniah</a>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="projects.html">Projects</a>
    <a href="contact.html">Contact</a>
    <button class="theme-toggle" id="theme-toggle">Toggle Theme</button>
  </nav>
</header>

<header class="timeline-header">
  <div style="margin-top:8px;color:var(--muted);font-size:14px">Click items on the left to view details. Tabs let you switch categories.</div>
</header>

<main>
  <div>
    <div class="tabs" id="tabs">
      <button class="tab-btn active" data-tab="experience">Experience</button>
      <button class="tab-btn" data-tab="education">Education</button>
      <button class="tab-btn" data-tab="projects">Projects</button>
      <button class="tab-btn" data-tab="volunteering">Volunteering</button>
    </div>

    <div class="timeline-wrap">
      <div class="timeline" id="timeline"></div>
    </div>
  </div>

  <div class="details-panel" id="details">
    <div id="placeholder" style="opacity:0.9">
      <div class="role-head">
        <div class="left">
          <h2 id="detail-title">Select an item</h2>
          <p id="detail-company" style="margin:6px 0 0 0"></p>
        </div>
        <div class="right">
          <div id="detail-period" class="role-meta"></div>
        </div>
      </div>
      <div class="location" id="detail-location"></div>
      <div class="pill-row" id="detail-skills"></div>

      <div>
        <div class="section-title">Key responsibilities</div>
        <ul class="bullets" id="detail-resps">
          <li>Select a timeline item to see responsibilities and highlights.</li>
        </ul>
      </div>

      <div id="detail-highlight" class="highlight" style="display:none"></div>
    </div>
  </div>
</main>

<script>
/* Theme toggle logic */
const themeBtn = document.getElementById('theme-toggle');
themeBtn.addEventListener('click', ()=>{
  if(document.documentElement.getAttribute('data-theme') === 'light'){
    document.documentElement.removeAttribute('data-theme');
  } else {
    document.documentElement.setAttribute('data-theme','light');
  }
});

/* Timeline data */
const DATA = { 
  /* ... keep all your DATA object as-is ... */
};

/* UI helpers */
const timelineEl = document.getElementById('timeline');
const detailsEl = document.getElementById('details');
const tabsEl = document.getElementById('tabs');

let activeTab = 'experience';
let activeItemId = null;

function clearTimeline(){ timelineEl.innerHTML = ''; }

function createTimelineItems(list){
  clearTimeline();
  list.forEach(item=>{
    const div = document.createElement('div');
    div.className='timeline-item';
    if(activeItemId===item.id) div.classList.add('active');
    div.dataset.id=item.id;

    // <-- Restored HTML content for marker, title & period -->
    div.innerHTML = `<div class="timeline-marker">✓</div>
                     <div>
                       <div class="title">${item.title}</div>
                       <div class="period">${item.period}</div>
                     </div>`;

    div.addEventListener('click',()=>{setActiveItem(item.id);});
    timelineEl.appendChild(div);
  });
}

function setActiveItem(id){
  activeItemId=id;
  document.querySelectorAll('.timeline-item').forEach(el=>el.classList.remove('active'));
  const el = document.querySelector(`.timeline-item[data-id='${id}']`);
  if(el) el.classList.add('active');

  const item = DATA[activeTab].find(x=>x.id===id);
  if(!item) return;

  document.getElementById('detail-title').innerText=item.title;
  document.getElementById('detail-company').innerText=item.company;
  document.getElementById('detail-period').innerText=item.period;
  document.getElementById('detail-location').innerText=item.location;

  const skillsRow = document.getElementById('detail-skills');
  skillsRow.innerHTML='';
  item.skills.forEach(skill=>{
    const pill=document.createElement('div');
    pill.className='pill';
    pill.innerText=skill;
    skillsRow.appendChild(pill);
  });

  const bullets = document.getElementById('detail-resps');
  bullets.innerHTML='';
  item.responsibilities.forEach(r=>{
    const li=document.createElement('li'); li.innerText=r; bullets.appendChild(li);
  });

  const highlight = document.getElementById('detail-highlight');
  if(item.highlight){ highlight.style.display='block'; highlight.innerText=item.highlight; }
  else{ highlight.style.display='none'; highlight.innerText=''; }
}

tabsEl.querySelectorAll('.tab-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    tabsEl.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    activeTab=btn.dataset.tab;
    activeItemId=null;
    createTimelineItems(DATA[activeTab]);
    document.getElementById('detail-title').innerText='Select an item';
    document.getElementById('detail-company').innerText='';
    document.getElementById('detail-period').innerText='';
    document.getElementById('detail-location').innerText='';
    document.getElementById('detail-skills').innerHTML='';
    document.getElementById('detail-resps').innerHTML='<li>Select a timeline item to see responsibilities and highlights.</li>';
    document.getElementById('detail-highlight').style.display='none';
  });
});

createTimelineItems(DATA[activeTab]);
</script>

</body>
</html>
